<!DOCTYPE html>
<html>
  <head>
    <title>Todo List</title>
  </head>
  <body>
    <h1>Todo List</h1>
    <form id="todo-form">
      <input type="text" id="todo-input" placeholder="Add a new task...">
      <button type="submit">Add</button>
    </form>
    <ul id="todo-list"></ul>

    <script>
      const form = document.getElementById('todo-form');
      const input = document.getElementById('todo-input');
      const list = document.getElementById('todo-list');

      // Get todos from localStorage if available
      const todos = JSON.parse(localStorage.getItem('todos')) || [];

      // Render todos
      function renderTodos() {
        list.innerHTML = '';
        todos.forEach((todo, index) => {
          const li = document.createElement('li');
          const checkbox = document.createElement('input');
          checkbox.type = 'checkbox';
          checkbox.checked = todo.completed;
          checkbox.addEventListener('change', () => {
            todo.completed = checkbox.checked;
            saveTodos();
          });
          const span = document.createElement('span');
          span.textContent = todo.text;
          const button = document.createElement('button');
          button.textContent = 'Delete';
          button.addEventListener('click', () => {
            todos.splice(index, 1);
            saveTodos();
            renderTodos();
          });
          li.appendChild(checkbox);
          li.appendChild(span);
          li.appendChild(button);
          list.appendChild(li);
        });
      }

      // Save todos to localStorage
      function saveTodos() {
        localStorage.setItem('todos', JSON.stringify(todos));
      }

      // Add todo
      form.addEventListener('submit', (event) => {
        event.preventDefault();
        const text = input.value.trim();
        if (text) {
          todos.push({ text, completed: false });
          saveTodos();
          input.value = '';
          renderTodos();
        }
      });

      renderTodos();
    </script>
  </body>
</html>
